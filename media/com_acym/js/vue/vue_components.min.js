jQuery(document).ready(function(e){Vue.component("acym-media",{name:"acym-media",template:'<div class="cell shrink grid-x acym_vcenter"><div v-html="joomlaIframe"></div><button type="button" class="cell shrink button-secondary button margin-bottom-0 margin-right-1" @click="openMedia">{{ text }}</button><i @click="removeImage" class="cell shrink cursor-pointer acymicon-trash-o acym__color__red" v-if="value !== \'\'"></i></div>',props:{value:String,text:String},mounted:function(){this.initJoomlaModal()},data:()=>({joomlaIframe:"wordpress"===ACYM_CMS?"":'<div id="acym__form__modal__joomla-image"><div id="acym__form__modal__joomla-image__bg" class="acym__form__modal__joomla-image--close"></div><div id="acym__form__modal__joomla-image__ui" class="float-center cell"><iframe id="acym__form__modal__joomla-image__ui__iframe" src="index.php?option=com_media&amp;view=images&amp;tmpl=component&amp;e_name=imageurl&amp;asset=com_content&amp;author=\'acymailing\'" frameborder="0"></iframe></div></div>'}),methods:{openMedia(){"wordpress"===ACYM_CMS?this.openMediaWordpress():this.openMediaJoomla()},openMediaWordpress(){let e;(e=wp.media.frames.file_frame=wp.media({title:"Select a image to upload",button:{text:"Use this image"},multiple:!1})).on("select",()=>{let t=e.state().get("selection").first().toJSON();this.$emit("change",t.url)}),e.open()},openMediaJoomla(){jQuery("#acym__form__modal__joomla-image").css("display","inherit")},initJoomlaModal(){let e=this,t=jQuery("#acym__form__modal__joomla-image__ui__iframe");t.css("height","100%").css("width","100%"),t.contents().find(".chzn-container-single").attr("style","").css("width","150px"),t.on("load",function(){jQuery(".acym__form__modal__joomla-image--close").on("click",function(){jQuery("#acym__form__modal__joomla-image").hide()}),t.contents().find(".button-cancel").attr("onclick","").off("click").on("click",function(){jQuery("#acym__form__modal__joomla-image").hide()}),t.contents().find(".pull-right .btn-success, .pull-right .btn-primary").attr("onclick","").off("click").on("click",function(){let o=t.contents().find("#f_url").val();o.match("^"+ACYM_JOOMLA_MEDIA_FOLDER)&&(o=ACYM_JOOMLA_MEDIA_IMAGE+o),e.$emit("change",o),jQuery("#acym__form__modal__joomla-image").hide()})})},removeImage(){this.$emit("change","")}}})}),jQuery(document).ready(function(e){void 0!==e.fn.select2&&(e.fn.select2.defaults.set("theme","foundation"),Vue.component("select2multiple",{name:"select2multiple",template:'<div class="cell">\n                    <select multiple :name="name">\n                        <option v-if="allOptionExist" :value="\'all\'">{{ options.all }}</option>\n                        <option v-if="allOptionExist" disabled>------------------------------</option>\n                        <option v-for="(option, key) in options" :value="key" v-if="key !== \'all\'">{{ option }}</option>\n                    </select>\n                   </div>',props:{options:Object,value:Array,name:String},data:()=>({oldSelected:[],allOptionExist:!1}),mounted:function(){let t=this;this.oldSelected=this.value,this.allOptionExist=-1!==Object.keys(this.options).indexOf("all"),setTimeout(()=>{e('[name="'+this.name+'"]').select2({theme:"foundation",width:"100%"}).val(this.value).trigger("change").on("change",function(){let o=t.oldSelected;null===o&&(o=[]);let n=e(this).val();if(null===n&&(n=[]),Object.keys(t.options).filter(e=>"all"===e).length>0&&!acym_helper.empty(n)&&-1!==n.indexOf("all"))if(-1===o.indexOf("all"))e(this).val(["all"]);else{let t=n.filter(e=>"all"!==e);e(this).val(null===t?[]:t)}let i=e(this).val();null===i&&(i=[]),t.oldSelected=i,t.$emit("input",i)})},100)},watch:{options:function(t){e('[name="'+this.name+'"]').select2({data:t})}},destroyed:function(){e('[name="'+this.name+'"]').off().select2("destroy")}}),Vue.component("select2",{name:"select2",template:'<div class="cell"><select :name="name"><option v-for="(option, key) in options" :value="key">{{ option }}</option></select></div>',props:["options","value","name"],mounted:function(){let t=this;e('[name="'+this.name+'"]').select2({theme:"foundation",width:"100%"}).val(this.value).trigger("change").on("change",function(){t.$emit("input",this.value)})},watch:{options:function(t){e('[name="'+this.name+'"]').select2({data:t})}},destroyed:function(){e('[name="'+this.name+'"]').off().select2("destroy")}}),Vue.component("select2ajax",{name:"select2ajax",template:'<div class="cell"><select :name="name"><option v-for="(option, key) in options" :value="option.id">{{ option.text }}</option></select></div>',props:["value","name","urlselected","ctrl","task"],data:()=>({options:[]}),mounted:function(){let t=this;e.get(ACYM_AJAX_URL+t.urlselected+this.value,o=>{o=acym_helper.parseJson(o);let n=e('[name="'+this.name+'"]');if(!acym_helper.empty(o)){let e=new Option(o.title,o.id,!1,!1);n.append(e)}n.select2({ajax:{url:ACYM_AJAX_URL,dataType:"json",delay:250,data:function(e){return{searchedterm:e.term,ctrl:t.ctrl,task:t.task}},processResults:function(e){return t.options=[],e&&jQuery.each(e,function(e,o){t.options.push({id:o[0],text:o[1]})}),{results:t.options}}},theme:"foundation",width:"100%",minimumInputLength:3,allowClear:!0,placeholder:"- - -"}).val(this.value).on("change",function(){t.$emit("input",this.value)})})},destroyed:function(){e('[name="'+this.name+'"]').off().select2("destroy")}}))}),jQuery(document).ready(function(e){void 0!==e.fn.select2&&Vue.component("spectrum",{name:"spectrum",template:'<div class="cell auto grid-x"><input @click="openSpectrum" type="text" class="cell medium-6 acym__forms__menu__options__input-color-disabled" readonly :value="value"><input type="text" :name="name"></div>',props:{value:String,name:String},mounted:function(){let t=this;e('[name="'+this.name+'"]').spectrum({color:this.value,preferredFormat:"hex",showButtons:!1,showInput:!0,change:function(e){t.$emit("input",e.toHexString())}})},methods:{openSpectrum(){console.log(e('[name="'+this.name+'"]').next()),e('[name="'+this.name+'"]').next().click()}},destroyed:function(){e('[name="'+this.name+'"]').spectrum("destroy")}})});